@ RUN: omtalk-parser -emit=ast %s | FileCheck %s -check-prefix=ast
@ RUN: omtalk-parser -emit=mlir %s | FileCheck %s -check-prefix=ast

@ CHECK-LABEL: ast: module {

@ CHECK-LABEL: ast: class EmptyClass
@ CHECK-LABEL: mlir: omtalk.klass @EmptyClass : @Object
EmptyClass = ()
@ CHECK: } loc(

@ CHECK-LABEL: ast: class ClassWithSuper : TheSuper
@ CHECK-LABEL: mlir: omtalk.klass @ClassWithSuper : @TheSuper
ClassWithSuper = TheSuper (
)

@ CHECK-LABEL: ast: class SmallClass
@ CHECK-LABEL: mlir: omtalk.klass @SmallClass : @Object
SmallClass = (
    | A B C |
)

SmallClassWithStaticFields = (
    | a b c |
    ---
)

@ CHECK: ast: } loc(
